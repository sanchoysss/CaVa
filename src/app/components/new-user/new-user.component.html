<div class="new-user-component">
  <form class="form" [formGroup]="myForm" (ngSubmit)="onSubmit()">

    <h1>Add new user</h1>
    <div class="data">
      <label for="login">Login:</label>
      <input class="data-input" type="text" name="login" id="login"
             placeholder="Enter login:"
             formControlName="login"
             required>

      <div *ngIf="login == null || ( login.invalid && (login.dirty || login.touched) )"
           class="alert alert-danger">

        <div *ngIf="login?.errors?.required"
             class="error_message">
          Login is required!
        </div>

        <div *ngIf='login?.errors?.minlength'
             class="error_message">
          Minimum length for login is 2
        </div>

      </div>

    </div>

    <div class="data">
      <label for="name">Name:</label>
      <input class="data-input" type="text" name="name" id="name"
             placeholder="Enter name"
             formControlName="name"
      >
    </div>

    <div class="data">
      <label for="password">Password:</label>
      <input class="data-input" type="password" name="password" id="password"
             placeholder="Enter password"
             formControlName="password"
             required>

      <div *ngIf="password?.invalid && password?.touched">

        <div *ngIf="password?.errors?.required"
             class="error_message">
          You need to enter password
        </div>

        <div *ngIf="password?.errors?.minlength"
             class="error_message">
          Minimum length of password is 8
        </div>
      </div>
    </div>

    <div class="data">
      <label for="email">Email:</label>
      <input class="data-input" type="email" name="email" id="email"
             placeholder="Enter email:"
             formControlName="email"
             required>

      <div *ngIf="email?.invalid && email?.touched">

        <div *ngIf="email?.errors?.required" class="error_message">
          You need to enter email!
        </div>

        <div *ngIf="email?.errors?.email" class="error_message">
          Email should be valid!
        </div>

      </div>
    </div>

    <div class="data">
      <button type="submit" [disabled]="!myForm.valid">Add user</button>
    </div>

  </form>

</div>
